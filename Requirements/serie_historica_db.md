From this IOL API's endpoint, we can get the historical data for a contract symbol.

get /api/v2/bCBA/Titulos/{simbolo}/Cotizacion/seriehistorica/01-01-2025/{today}/sinAjustar

Wil return a JSON array with the following structure:

```json
[
    {
    "ultimoPrecio": 16.001,
    "variacion": -36.3,
    "apertura": 28,
    "maximo": 28.1,
    "minimo": 17.002,
    "fechaHora": "2025-12-04T16:59:55.873",
    "tendencia": "mantiene",
    "cierreAnterior": 16.001,
    "montoOperado": 17962645.6,
    "volumenNominal": 7475,
    "precioPromedio": 0,
    "moneda": "peso_Argentino",
    "precioAjuste": 0,
    "interesesAbiertos": 0,
    "puntas": null,
    "cantidadOperaciones": 909,
    "descripcionTitulo": null,
    "plazo": null,
    "laminaMinima": 0,
    "lote": 0
  },
]
```

From this, I need to populate this table

```sql
CREATE TABLE market_prices (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    contract_symbol VARCHAR(50) REFERENCES options_contracts(symbol),
    price DECIMAL(12, 3),
    broker_timestamp TIMESTAMPTZ,
    system_timestamp TIMESTAMPTZ DEFAULT NOW(),
    volume INTEGER
);
```
